<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="bg">
<head>
    <meta charset="UTF-8">
    <title>–ü—Ä–æ—Ñ–∏–ª –Ω–∞ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª</title>
    <link rel="stylesheet" href="/profile.css">
</head>
<body>
<header class="site-header">
    <h1>Book Library</h1>
    <nav>
        <ul>
            <li><a th:href="@{index}">–ù–∞—á–∞–ª–æ</a></li>
            <li><a th:href="@{/books}" class="active">–ö–Ω–∏–≥–∏</a></li>
            <li><a th:href="@{/about}">–ó–∞ –Ω–∞—Å</a></li>
            <li><a th:href="@{/profile}" class="active">–ü—Ä–æ—Ñ–∏–ª</a></li>


        </ul>
    </nav>
</header>

<main class="container">
    <section class="user-card">
        <div class="profile-header">
            <img th:src="${#strings.isEmpty(user.profilePicture) ? 'https://upload.wikimedia.org/wikipedia/commons/9/99/Sample_User_Icon.png' : user.profilePicture }" alt="–ê–≤–∞—Ç–∞—Ä" class="avatar">
            <p th:text="${user.username}">Username</p>
            <h1 th:text="${user.firstName}">–ò–≤–∞–Ω</h1>
            <h1 th:text="${user.lastName}">–ü–µ—Ç—Ä–æ–≤</h1>
            <p th:text="${#strings.isEmpty(user.email) ? '–†–µ–¥–∞–∫—Ç–∏—Ä–∞–π—Ç–µ –ø—Ä–æ—Ñ–∏–ª–∞ —Å–∏ –∏ –¥–æ–±–∞–≤–µ—Ç–µ –∏–º–µ–π–ª' : user.email}"> ivan.petrov@example.com </p>
            <p th:text="${user.country.displayName}"> –ë—ä–ª–≥–∞—Ä–∏—è</p>
            <p th:text="${#temporals.format(user.createdOn, 'dd MMM YYYY HH:mm' )}"></p>
            <a th:href="@{/profile/edit}" class="btn">–†–µ–¥–∞–∫—Ç–∏—Ä–∞–π –ø—Ä–æ—Ñ–∏–ª</a>
            <!-- –¥–∞ —Å–∏ –Ω–∞–ø—Ä–∞–≤—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–∞–Ω–µ –Ω–∞ –ø—Ä–æ—Ñ–∏–ª–∞ -->
        </div>
    </section>

    <!-- –õ—é–±–∏–º–∏ –∫–Ω–∏–≥–∏ -->
    <section class="favorites-section">
        <h2>–õ—é–±–∏–º–∏ –∫–Ω–∏–≥–∏</h2>

        <div th:if="${#lists.isEmpty(favourites)}">
            <p style="color: #666; font-size: 18px; margin-top: 20px;">
                –í—Å–µ –æ—â–µ –Ω—è–º–∞—à –ª—é–±–∏–º–∏ –∫–Ω–∏–≥–∏, –¥–æ–±–∞–≤–∏ –≥–∏ —Å–µ–≥–∞!
            </p>
        </div>


        <div class="books-grid">
            <div th:if="${!#lists.isEmpty(favourites)}">
                <div class="book-card" th:each="book : ${favourites}">
                    <p><strong>–ò–º–µ –Ω–∞ –∫–Ω–∏–≥–∞:</strong> <span th:text="${book.title}"></span></p>
                    <p><strong>–ê–≤—Ç–æ—Ä:</strong> <span th:text="${book.author}"></span></p>
                    <p><strong>–û–ø–∏—Å–∞–Ω–∏–µ:</strong> <span th:text="${book.description}"></span></p>
                </div>
            </div>


        </div>
        <form th:action="@{/logout}" method="post">
            <input type="hidden"
                   th:name="${_csrf.parameterName}"
                   th:value="${_csrf.token}" />
            <button type="submit" class="btn">üö™ –ò–∑—Ö–æ–¥</button>
        </form>
    </section>
</main>

<footer class="site-footer">
    <p>&copy; 2025 Book Library. –í—Å–∏—á–∫–∏ –ø—Ä–∞–≤–∞ –∑–∞–ø–∞–∑–µ–Ω–∏.</p>
</footer>
</body>
</html>
