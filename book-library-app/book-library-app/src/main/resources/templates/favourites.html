<!DOCTYPE html>
<html lang="bg" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>–õ—é–±–∏–º–∏ –∫–Ω–∏–≥–∏</title>

    <link rel="stylesheet" th:href="@{/books.css}">
</head>
<body>

<header>
    <h1>üìö Book Library</h1>
    <nav>
        <a th:href="@{/index}">–ù–∞—á–∞–ª–æ</a>
        <a th:href="@{/books}">–ö–Ω–∏–≥–∏</a>
        <a th:href="@{/favourites}" class="active">–õ—é–±–∏–º–∏</a>
        <a th:href="@{/login}">–ü—Ä–æ—Ñ–∏–ª</a>
    </nav>
</header>

<main>
    <h2>–ú–æ–∏—Ç–µ –ª—é–±–∏–º–∏ –∫–Ω–∏–≥–∏</h2>

    <!-- –ê–∫–æ –Ω—è–º–∞ –ª—é–±–∏–º–∏ -->
    <div class="no-favourites" th:if="${#lists.isEmpty(favourites)}">
        –ù—è–º–∞—à –¥–æ–±–∞–≤–µ–Ω–∏ –ª—é–±–∏–º–∏ –∫–Ω–∏–≥–∏.
    </div>

    <!-- –ê–∫–æ –∏–º–∞ –ª—é–±–∏–º–∏ ‚Äì –ø–æ–∫–∞–∑–≤–∞–º–µ –≥–∏ –∫–∞—Ç–æ –∫–∞—Ä—Ç–∏, –∫–∞–∫—Ç–æ –ø—Ä–∏ /books -->
    <div class="books-container" th:if="${!#lists.isEmpty(favourites)}">

        <div class="book-card" th:each="fav : ${favourites}">
            <!-- –∫–æ—Ä–∏—Ü–∞ -->
            <img th:if="${fav.favoriteBook.cover != null}"
                 th:src="${fav.favoriteBook.cover}"
                 alt="Book cover"
                 class="book-cover"/>

            <img th:if="${fav.favoriteBook.cover == null}"
                 src="https://as2.ftcdn.net/v2/jpg/01/20/73/69/1000_F_120736914_mvc0UMUrgebZ11izrwPjF6HsHdsXnr8P.jpg"
                 alt="Book cover"
                 class="book-cover"/>

            <!-- –∑–∞–≥–ª–∞–≤–∏–µ -->
            <h3 th:text="${fav.favoriteBook.title}">–ó–∞–≥–ª–∞–≤–∏–µ</h3>

            <!-- –∞–≤—Ç–æ—Ä -->
            <p><strong>–ê–≤—Ç–æ—Ä:</strong>
                <span th:text="${fav.favoriteBook.author}"></span>
            </p>

            <!-- –¥–∞—Ç–∞ –Ω–∞ –¥–æ–±–∞–≤—è–Ω–µ –≤ –ª—é–±–∏–º–∏ -->
            <p><strong>–î–æ–±–∞–≤–µ–Ω–∞ –Ω–∞:</strong>
                <span th:text="${#temporals.format(fav.addedAt, 'dd.MM.yyyy HH:mm')}"></span>
            </p>

            <!-- –±—É—Ç–æ–Ω –∑–∞ –ø—Ä–µ–º–∞—Ö–≤–∞–Ω–µ -->
            <form th:action="@{'/favourites/remove/' + ${fav.id}}" method="post">
                <button type="submit" class="fav-remove-btn">‚úñ –ú–∞—Ö–Ω–∏ –æ—Ç –ª—é–±–∏–º–∏</button>
            </form>
        </div>

    </div>
</main>

<footer>
    <p>¬© 2025 Book Library. –í—Å–∏—á–∫–∏ –ø—Ä–∞–≤–∞ –∑–∞–ø–∞–∑–µ–Ω–∏.</p>
</footer>

</body>
</html>
